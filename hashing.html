// Handle the hash generation
document.getElementById('hashButton').addEventListener('click', function() {
  var email = document.getElementById('email').value.trim();
  var textToHash = document.getElementById('textToHash').value.trim();

  if (!email || !textToHash) {
    alert("Please fill in both fields.");
    return;
  }

  // Generate MD5 hash using CryptoJS
  var hash = CryptoJS.MD5(textToHash).toString();

  // Display the result
  document.getElementById('hashResult').textContent = hash;

  // Send the data to your Google Apps Script backend
  fetch('https://script.google.com/macros/s/AKfycbyVb1q1On9OmT2WyJnCjiOYCsxCWIPFjWM6QSYzP6JgOExVVuGrPSIa3u3AqYT_lkqAdw/exec', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({
      email: email,
      text: textToHash
    })
  })
  .then(response => response.json())
  .then(data => {
    console.log('Data stored:', data);
  })
  .catch((error) => {
    console.error('Error:', error);
  });
});
